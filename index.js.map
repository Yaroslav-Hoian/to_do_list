{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/theme-switcher.js","../src/js/counter-task.js","../src/js/markup-tasks.js","../src/js/input-aydit.js","../src/js/render-tasks.js","../src/js/input-task.js","../src/js/tasks.js"],"sourcesContent":["export const refs = {\n    body: document.querySelector(\"body\"),\n    tasksList: document.querySelector(\"#task-list\"),\n    themeToggle: document.querySelector(\"#themeToggle\"),\n    form: document.querySelector(\"#task-form\"),\n    counterTaskToDo: document.querySelector(\".counter-task\"),\n    counterTaskComplete: document.querySelector(\".counter-complete-task\")\n}","const localKey = \"my_tasks\";\n\nexport function getTaskFromStorage() {\n    const data = JSON.parse(localStorage.getItem(localKey));\n    return data;\n}\n\nexport function initStorage() {\n    const data = getTaskFromStorage() ?? [];\n    localStorage.setItem(localKey, JSON.stringify(data))\n} \n\nexport function saveTaskToStorage(task) {\n    const tasks = getTaskFromStorage();\n    tasks.push(task);\n    localStorage.setItem(localKey, JSON.stringify(tasks))\n}\n\nexport function deleteTaskFromStorage(id) {\n    const arrTask = getTaskFromStorage();\n    const filterArrTask = arrTask.filter(el => el.id !== id);\n    localStorage.setItem(localKey, JSON.stringify(filterArrTask));\n}\n\nconst localThemeKey = \"theme\";\n\nexport function getThemeFromStorage() {\n    const currentTheme = JSON.parse(localStorage.getItem(localThemeKey));\n    return currentTheme;\n}\n\nexport function setThemeToStorage(theme) {\n    localStorage.setItem(localThemeKey, JSON.stringify(theme))\n}\n\nconst localInputKey = \"input_task\";\n\nexport function getInputFromStorage() {\n    const inputData = JSON.parse(localStorage.getItem(localInputKey));\n    return inputData;\n}\n\nexport function initInputStorage() {\n    const dataInput = getInputFromStorage() ?? { title: \"\", descr: \"\" }\n    localStorage.setItem(localInputKey, JSON.stringify(dataInput))\n}\n\nexport function saveInputToStorage(task) {\n    localStorage.setItem(localInputKey, JSON.stringify(task))\n}\n\nexport function clearInputStorage() {\n    localStorage.removeItem(localInputKey);\n}\n\nconst localCompleteTaskCounterKey = \"complete_tasks\" \n\nexport function getCompleteTaskFromStorage() {\n    const dataComplete = JSON.parse(localStorage.getItem(localCompleteTaskCounterKey));\n    return dataComplete;\n}\n\nexport function initCompleteTaskToStorage() {\n    const completeData = getCompleteTaskFromStorage() ?? 0;\n    localStorage.setItem(localCompleteTaskCounterKey, JSON.stringify(completeData))\n}\n\nexport function saveCompleteTaskToStorage() {\n    const count = getCompleteTaskFromStorage() + 1;\n    localStorage.setItem(localCompleteTaskCounterKey, JSON.stringify(count))\n}\n","import { refs } from \"./refs\";\nimport { getThemeFromStorage, setThemeToStorage } from \"./local-storage-api\";\n\nexport function setThemeFromStorage() {\n    const theme = getThemeFromStorage();\n    refs.body.classList = theme;\n}\n\nexport function themeSwitcher() {\n    refs.body.classList.toggle(\"theme-dark\")\n    refs.body.classList.toggle(\"theme-light\")\n    const theme = refs.body.classList.value;\n    setThemeToStorage(theme);\n}","import { refs } from \"./refs\";\nimport { getCompleteTaskFromStorage } from \"./local-storage-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function updateTotalCountTaskToDo() {\n    const total = refs.tasksList.querySelectorAll(\".task-list-item\").length;\n    refs.counterTaskToDo.textContent = `Завдання до виконання ${total}`;\n}\n\nexport function getCompleteTaskToComplete() {\n    const total = getCompleteTaskFromStorage();\n    refs.counterTaskComplete.textContent = `Виконано ${total}`;\n}","import { refs } from \"./refs\";\nimport { getTaskFromStorage } from \"./local-storage-api\";\nimport { updateTotalCountTaskToDo } from \"./counter-task\";\n\nexport function createTask(params) {\n    const murkup = `\n        <li class=\"task-list-item\" data-id=\"${params.id}\">\n            <button class=\"task-list-item-btn\">Delete</button>\n            <h3>${params.title}</h3>\n            <p>${params.descr}</p>\n        </li>`\n    return murkup;\n}\n\nexport function getTaskToMarkup() {\n    const arrTask = getTaskFromStorage();\n    const murkup = arrTask.map(createTask).join('');\n    refs.tasksList.insertAdjacentHTML(\"beforeend\", murkup);\n    updateTotalCountTaskToDo();\n}","import { refs } from \"./refs\";\nimport iziToast from \"izitoast\";\n\nexport function emptyInput(title, descr) {\n    const isEmpty = title === '' || descr === '';\n\n    if (isEmpty) {\n        iziToast.warning({\n            title: \"Порожньо\",\n            message: \"Введіть свій task\",\n            position: \"bottomCenter\"\n        })\n    }\n\n    return isEmpty;\n}\n\nexport function isDuplicate(title, descr) {\n    const allText = refs.tasksList.querySelectorAll(\".task-list-item\");\n    const duplicate = Array.from(allText).some(item => {\n        const itemTitle = item.querySelector(\"h3\")?.textContent.trim().toLowerCase();\n        const itemDescr = item.querySelector(\"p\")?.textContent.trim().toLowerCase();\n\n        return (title.toLowerCase() === itemTitle && descr.toLowerCase() === itemDescr);\n    });\n    if (duplicate) {\n        iziToast.error({\n            title: \"Увага\",\n            message: \"Цей task вже існує\",\n            position: \"bottomCenter\"\n            })\n    }\n\n    return duplicate;\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { refs } from \"./refs\";\nimport { createTask } from \"./markup-tasks\";\nimport { nanoid } from \"nanoid\";\nimport { saveTaskToStorage, deleteTaskFromStorage, clearInputStorage, saveCompleteTaskToStorage } from \"./local-storage-api\";\nimport { emptyInput, isDuplicate } from \"./input-aydit\";\nimport { updateTotalCountTaskToDo, getCompleteTaskToComplete } from \"./counter-task\";\n\nexport function addTask(ev) {\n    ev.preventDefault()\n\n    const title = ev.target.taskName.value.trim();\n    const descr = ev.target.taskDescription.value.trim();\n\n    if (emptyInput(title, descr)) {\n        return;\n    }\n\n    if (isDuplicate(title, descr)) {\n        return;\n    };\n\n    const newTask = {\n        title,\n        descr,\n        id: nanoid()\n    }\n\n    saveTaskToStorage(newTask);\n    const murkup = createTask(newTask);\n    refs.tasksList.insertAdjacentHTML(\"beforeend\", murkup);\n\n    iziToast.success({\n            title: \"Вітаю\",\n            message: \"Твій task успішно додано\",\n            position: \"bottomCenter\"\n        })\n    \n    updateTotalCountTaskToDo();\n    \n    refs.form.reset();\n\n    clearInputStorage();\n    \n}\n\nexport function deleteTask(ev) {\n    if (ev.target.classList.contains(\"task-list-item-btn\")) {\n        const taskItem = ev.target.closest(\".task-list-item\");\n        const taskId = taskItem.dataset.id\n        deleteTaskFromStorage(taskId)\n        taskItem.remove()\n        \n        updateTotalCountTaskToDo();\n        saveCompleteTaskToStorage();\n        getCompleteTaskToComplete();\n        iziToast.success({\n            title: \"+1 до 'Виконано'\",\n            message: \"Твій task успішно видалено\",\n            position: \"bottomCenter\"\n        })\n    }\n}","import { refs } from \"./refs\";\nimport { saveInputToStorage, getInputFromStorage } from \"./local-storage-api\";\n\nexport function handleInputTask(ev) {\n    const title = refs.form.elements.taskName.value.trim();\n    const descr = refs.form.elements.taskDescription.value.trim();\n\n    const newTask = {\n        title,\n        descr\n    }\n    \n    saveInputToStorage(newTask)\n}\n\nexport function getInputTaskToInput() {\n    const input = getInputFromStorage();\n\n    if (!input) {\n        return;\n    }\n\n    refs.form.elements.taskName.value = input.title ?? \"\";\n    refs.form.elements.taskDescription.value = input.descr ?? \"\";\n}\n\n","import { refs } from \"./refs\";\nimport { themeSwitcher, setThemeFromStorage } from \"./theme-switcher\";\nimport { initStorage, initInputStorage, initCompleteTaskToStorage } from \"./local-storage-api\";\nimport { addTask, deleteTask } from \"./render-tasks\";\nimport { getTaskToMarkup } from \"./markup-tasks\";\nimport { handleInputTask, getInputTaskToInput } from \"./input-task\";\nimport { getCompleteTaskToComplete } from \"./counter-task\";\n\nsetThemeFromStorage();\n\ninitStorage();\ngetTaskToMarkup();\n\ninitInputStorage();\ngetInputTaskToInput();\n\ninitCompleteTaskToStorage();\ngetCompleteTaskToComplete();\n\nrefs.themeToggle.addEventListener(\"click\", themeSwitcher);\n\nrefs.form.addEventListener(\"input\", handleInputTask)\n\nrefs.form.addEventListener(\"submit\", addTask);\n\nrefs.tasksList.addEventListener(\"click\", deleteTask);\n\n\n\n\n\n\n\n"],"names":["refs","localKey","getTaskFromStorage","initStorage","data","saveTaskToStorage","task","tasks","deleteTaskFromStorage","id","filterArrTask","el","localThemeKey","getThemeFromStorage","setThemeToStorage","theme","localInputKey","getInputFromStorage","initInputStorage","dataInput","saveInputToStorage","clearInputStorage","localCompleteTaskCounterKey","getCompleteTaskFromStorage","initCompleteTaskToStorage","completeData","saveCompleteTaskToStorage","count","setThemeFromStorage","themeSwitcher","updateTotalCountTaskToDo","total","getCompleteTaskToComplete","createTask","params","getTaskToMarkup","murkup","emptyInput","title","descr","isEmpty","iziToast","isDuplicate","allText","duplicate","item","itemTitle","_a","itemDescr","_b","addTask","ev","newTask","nanoid","deleteTask","taskItem","taskId","handleInputTask","getInputTaskToInput","input"],"mappings":"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"}