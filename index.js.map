{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/theme-switcher.js","../src/js/markup-tasks.js","../src/js/input-aydit.js","../src/js/render-tasks.js","../src/js/input-task.js","../src/js/tasks.js"],"sourcesContent":["export const refs = {\n    body: document.querySelector(\"body\"),\n    tasksList: document.querySelector(\"#task-list\"),\n    themeToggle: document.querySelector(\"#themeToggle\"),\n    form: document.querySelector(\"#task-form\")\n}","const localKey = \"my_tasks\";\nconst localThemeKey = \"theme\";\nconst localInputKey = \"input_task\";\n\nexport function getTaskFromStorage() {\n    const data = JSON.parse(localStorage.getItem(localKey));\n    return data;\n}\n\nexport function initStorage() {\n    const data = getTaskFromStorage() ?? [];\n    localStorage.setItem(localKey, JSON.stringify(data))\n} \n\nexport function saveTaskToStorage(task) {\n    const tasks = getTaskFromStorage();\n    tasks.push(task);\n    localStorage.setItem(localKey, JSON.stringify(tasks))\n}\n\nexport function deleteTaskFromStorage(id) {\n    const arrTask = getTaskFromStorage();\n    const filterArrTask = arrTask.filter(el => el.id !== id);\n    localStorage.setItem(localKey, JSON.stringify(filterArrTask));\n}\n\nexport function getThemeFromStorage() {\n    const currentTheme = JSON.parse(localStorage.getItem(localThemeKey));\n    return currentTheme;\n}\n\nexport function setThemeToStorage(theme) {\n    localStorage.setItem(localThemeKey, JSON.stringify(theme))\n}\n\nexport function getInputFromStorage() {\n    const inputData = JSON.parse(localStorage.getItem(localInputKey));\n    return inputData;\n}\n\nexport function initInputStorage() {\n    const dataInput = getInputFromStorage() ?? { title: \"\", descr: \"\" }\n    localStorage.setItem(localInputKey, JSON.stringify(dataInput))\n}\n\nexport function saveInputToStorage(task) {\n    localStorage.setItem(localInputKey, JSON.stringify(task))\n}\n\nexport function clearInputStorage() {\n    localStorage.removeItem(localInputKey);\n}\n","import { refs } from \"./refs\";\nimport { getThemeFromStorage, setThemeToStorage } from \"./local-storage-api\";\n\nexport function setThemeFromStorage() {\n    const theme = getThemeFromStorage();\n    refs.body.classList = theme;\n}\n\nexport function themeSwitcher() {\n    refs.body.classList.toggle(\"theme-dark\")\n    refs.body.classList.toggle(\"theme-light\")\n    const theme = refs.body.classList.value;\n    setThemeToStorage(theme);\n}","import { refs } from \"./refs\";\nimport { getTaskFromStorage } from \"./local-storage-api\";\n\nexport function createTask(params) {\n    const murkup = `\n        <li class=\"task-list-item\" data-id=\"${params.id}\">\n            <button class=\"task-list-item-btn\">Delete</button>\n            <h3>${params.title}</h3>\n            <p>${params.descr}</p>\n        </li>`\n    return murkup;\n}\n\nexport function getTaskToMarkup() {\n    const arrTask = getTaskFromStorage();\n    const murkup = arrTask.map(createTask).join('');\n    refs.tasksList.insertAdjacentHTML(\"beforeend\", murkup);\n}","import { refs } from \"./refs\";\nimport iziToast from \"izitoast\";\n\nexport function emptyInput(title, descr) {\n    if (title === '' || descr === '') {\n        iziToast.warning({\n            title: \"Порожньо\",\n            message: \"Введіть свій task\",\n            position: \"bottomCenter\"\n        })\n        return refs.form.reset();\n    }\n}\n\nexport function isDuplicate(title, descr) {\n    const allText = refs.tasksList.querySelectorAll(\".task-list-item\");\n    const duplicate = Array.from(allText).some(item => {\n        const itemTitle = item.querySelector(\"h3\")?.textContent.trim().toLowerCase();\n        const itemDescr = item.querySelector(\"p\")?.textContent.trim().toLowerCase();\n\n        return (title.toLowerCase() === itemTitle && descr.toLowerCase() === itemDescr);\n    });\n    if (duplicate) {\n        iziToast.error({\n            title: \"Увага\",\n            message: \"Цей task вже існує\",\n            position: \"bottomCenter\"\n            })\n    }\n\n    return duplicate;\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { refs } from \"./refs\";\nimport { createTask } from \"./markup-tasks\";\nimport { nanoid } from \"nanoid\";\nimport { saveTaskToStorage, deleteTaskFromStorage, clearInputStorage } from \"./local-storage-api\";\nimport { emptyInput, isDuplicate } from \"./input-aydit\";\n\nexport function addTask(ev) {\n    ev.preventDefault()\n\n    const title = ev.target.taskName.value.trim();\n    const descr = ev.target.taskDescription.value.trim();\n\n    emptyInput(title, descr);\n    if (isDuplicate(title, descr)) {\n        return refs.form.reset();\n    };\n\n    const newTask = {\n        title,\n        descr,\n        id: nanoid()\n    }\n\n    saveTaskToStorage(newTask);\n    const murkup = createTask(newTask);\n    refs.tasksList.insertAdjacentHTML(\"beforeend\", murkup);\n\n    iziToast.success({\n            title: \"Вітаю\",\n            message: \"Твій task успішно додано\",\n            position: \"bottomCenter\"\n        })\n\n    refs.form.reset();\n\n    clearInputStorage();\n    \n}\n\nexport function deleteTask(ev) {\n    if (ev.target.classList.contains(\"task-list-item-btn\")) {\n        const taskItem = ev.target.closest(\".task-list-item\");\n        const taskId = taskItem.dataset.id\n        deleteTaskFromStorage(taskId)\n        taskItem.remove()\n        \n        // completedTasksCount += 1;\n        iziToast.success({\n            title: \"+1 до 'Виконано'\",\n            message: \"Твій task успішно видалено\",\n            position: \"bottomCenter\"\n        })\n    }\n}","import { refs } from \"./refs\";\nimport { saveInputToStorage, getInputFromStorage } from \"./local-storage-api\";\n\nexport function handleInputTask(ev) {\n    const title = refs.form.elements.taskName.value.trim();\n    const descr = refs.form.elements.taskDescription.value.trim();\n\n    const newTask = {\n        title,\n        descr\n    }\n    \n    saveInputToStorage(newTask)\n}\n\nexport function getInputTaskToInput() {\n    const input = getInputFromStorage();\n\n    if (!input) {\n        return;\n    }\n\n    refs.form.elements.taskName.value = input.title ?? \"\";\n    refs.form.elements.taskDescription.value = input.descr ?? \"\";\n}\n\n","import { refs } from \"./refs\";\nimport { themeSwitcher, setThemeFromStorage } from \"./theme-switcher\";\nimport { initStorage, initInputStorage } from \"./local-storage-api\";\nimport { addTask, deleteTask } from \"./render-tasks\";\nimport { getTaskToMarkup } from \"./markup-tasks\";\nimport { handleInputTask, getInputTaskToInput } from \"./input-task\";\n\nsetThemeFromStorage();\n\ninitStorage();\ngetTaskToMarkup();\n\ninitInputStorage();\ngetInputTaskToInput()\n\nrefs.themeToggle.addEventListener(\"click\", themeSwitcher);\n\nrefs.form.addEventListener(\"input\", handleInputTask)\n\nrefs.form.addEventListener(\"submit\", addTask);\n\nrefs.tasksList.addEventListener(\"click\", deleteTask);\n\n\n\n\n\n\n\n"],"names":["refs","localKey","localThemeKey","localInputKey","getTaskFromStorage","initStorage","data","saveTaskToStorage","task","tasks","deleteTaskFromStorage","id","filterArrTask","el","getThemeFromStorage","setThemeToStorage","theme","getInputFromStorage","initInputStorage","dataInput","saveInputToStorage","clearInputStorage","setThemeFromStorage","themeSwitcher","createTask","params","getTaskToMarkup","murkup","emptyInput","title","descr","iziToast","isDuplicate","allText","duplicate","item","itemTitle","_a","itemDescr","_b","addTask","ev","newTask","nanoid","deleteTask","taskItem","taskId","handleInputTask","getInputTaskToInput","input"],"mappings":"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"}